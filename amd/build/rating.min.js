define("local_playlist/rating",["jquery","core/ajax","core/templates"],(function($,ajax,templates){return{init:function(){var rating=$(".stars"),initialize_rating=function(rating){rating.children("li").mouseover((function(){!function(val){rating.children("li").each((function(index){index<val?$(this).find("i").addClass("fa-star").removeClass("fa-star-o fa-star-half-o"):$(this).find("i").removeClass("fa-star fa-star-half-o").addClass("fa-star-o")}))}($(this).find("i").data("val"))})),rating.children("li").click((function(){var newRating=$(this).find("i").data("val");(rating.find("input:checked").val()||0)!=newRating&&ajax.call([{methodname:"local_playlist_set_rating",args:{itemid:rating.data("itemid"),rating:newRating}}])[0].done((function(response){templates.render("local_playlist/details/_rating",{rating:response.rating}).done((function(html){$("#rating").html(html),initialize_rating($(".stars"))}))})).fail((function(ex){console.error(ex)}))}))};initialize_rating(rating)}}}));

//# sourceMappingURL=rating.min.js.map
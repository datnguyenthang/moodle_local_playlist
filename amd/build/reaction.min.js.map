{"version":3,"file":"reaction.min.js","sources":["../src/reaction.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/templates'], function($, ajax, templates) {\n    var init = function() {\n        // Initialize event listeners\n        initEventReactionListeners();\n    };\n\n    // Function to initialize event listeners for reactions\n    function initEventReactionListeners() {\n        // Use event delegation for dynamically added elements\n        $('body').on('click', '.likes a', function(e) {\n            e.preventDefault();\n            var $link = $(this);\n            var reaction = $link.data('like');\n            var commentid = $link.data('commentid');\n\n            ajax.call([{\n                methodname: 'local_playlist_set_reaction',\n                args: {\n                    reaction: reaction,\n                    commentid: commentid\n                }\n            }])[0].done(function(response) {\n                // Update the likes and dislikes counts dynamically\n                templates.render('local_playlist/details/_reaction', response)\n                    .done(function(html) {\n                        $('#likes-' + commentid).html(html);\n                        initEventReactionListeners();\n                    });\n            }).fail(function(error) {\n                console.error('Error liking/disliking comment:', error);\n            });\n        });\n    }\n\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","ajax","templates","initEventReactionListeners","on","e","preventDefault","$link","this","reaction","data","commentid","call","methodname","args","done","response","render","html","fail","error","console","init"],"mappings":"AAAAA,iCAAO,CAAC,SAAU,YAAa,mBAAmB,SAASC,EAAGC,KAAMC,oBAOvDC,6BAELH,EAAE,QAAQI,GAAG,QAAS,YAAY,SAASC,GACvCA,EAAEC,qBACEC,MAAQP,EAAEQ,MACVC,SAAWF,MAAMG,KAAK,QACtBC,UAAYJ,MAAMG,KAAK,aAE3BT,KAAKW,KAAK,CAAC,CACPC,WAAY,8BACZC,KAAM,CACFL,SAAUA,SACVE,UAAWA,cAEf,GAAGI,MAAK,SAASC,UAEjBd,UAAUe,OAAO,mCAAoCD,UAChDD,MAAK,SAASG,MACXlB,EAAE,UAAYW,WAAWO,KAAKA,MAC9Bf,mCAETgB,MAAK,SAASC,OACbC,QAAQD,MAAM,kCAAmCA,mBAKtD,CACHE,KAlCO,WAEPnB"}
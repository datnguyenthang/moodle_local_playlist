define("local_playlist/homecontent",["jquery","core/ajax","core/templates"],(function($,ajax,templates){return{init:function(default_learningspace){const loadContents=function(){let learningspace=arguments.length>0&&void 0!==arguments[0]?arguments[0]:default_learningspace,type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";$("#allcontent-loading-icon").show(),$("#content-container").hide();var search_string=$(".input-search").val();ajax.call([{methodname:"local_playlist_get_allcontents",args:{learningspace:learningspace,search:search_string,type:type}}])[0].done((function(response){templates.render("local_playlist/homecontent",{allcontents:response.contents}).done((function(html){$("#allcontent-container").html(html).show(),$("#allcontent-loading-icon").hide()}))})).fail((function(ex){console.error(ex),$("#allcontent-loading-icon").hide(),$("#courses-container").show()}))};function applyFilter(){var learningspace_id=$(".learningspace_active").data("learningspaceid"),filters=[];$(".filter_check:checked").each((function(){filters.push($(this).val())}));var filtersString=filters.join(",");loadContents(learningspace_id,filtersString)}loadContents(),$("#btn-playlist-search").on("click",(function(){var learningspace_id=$(".learningspace_active").data("learningspaceid");loadContents(learningspace_id)})),$("#playlist-input-search").on("keypress",(function(e){if(13===e.which){var learningspace_id=$(".learningspace_active").data("learningspaceid");loadContents(learningspace_id)}})),$(".filter_check").on("change",applyFilter),$("#apply-filter").on("click",applyFilter),$(".dropdown-item1").hover((function(){$(this).find(".big-letter").css({"background-color":"#2eba70",color:"white"})}),(function(){$(this).find(".big-letter").css({"background-color":"",color:""})})),$(".workspace_dropdown .workspaces_menu .dropdown-item1 a").click((function(){var learningspace_id=$(this).data("learningspaceid"),name=$(this).find(".name").text(),first_letter=$(this).find(".big-letter").text(),current=$(this).closest(".workspace_dropdown");current.find(".dropdown-toggle .name").html(name+' <span class="caret"></span>'),current.find(".dropdown-toggle .big-letter").html(first_letter),current.find(".learningspace_active").data("learningspaceid",learningspace_id),loadContents(learningspace_id)}))}}}));

//# sourceMappingURL=homecontent.min.js.map